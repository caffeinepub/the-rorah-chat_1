{
  "kind": "build_request",
  "title": "Allow replying to your own messages",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-45",
      "text": "Update the chat message UI so the Reply action is available for messages sent by the current user as well as messages sent by other users (i.e., remove the UI restriction that hides Reply on own messages), while keeping the existing behavior that hides Reply on pending/failed optimistic messages.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-7",
          "msg-9"
        ],
        "quotes": [
          "i should be able to reply to be my own messages as well",
          "yes"
        ]
      },
      "acceptanceCriteria": [
        "In a room, a message sent by the current user shows a visible Reply action in the same area where reactions/reply are displayed for other users' messages.",
        "Clicking Reply on the current user's own message sets the reply context and the composer shows the correct quoted/reply-to context for that message (same behavior as replying to someone else).",
        "The Reply action remains hidden/disabled for messages in 'sending' or 'failed' optimistic states (no regression to existing pending/failed UX).",
        "No backend changes are required for this feature; replying to own messages works using the existing replyTo mechanism already used for other messages."
      ]
    }
  ],
  "constraints": [
    "Do not edit files under frontend/src/components/ui (compose existing shadcn components instead).",
    "Do not edit any frontend immutablePaths listed in SYSTEM_CONTEXT."
  ],
  "nonGoals": [
    "Changing reply/quote backend data models or APIs.",
    "Adding new reaction types or changing reaction behavior."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  },
  "userProfileUpdate": {
    "goalsToAdd": [],
    "goalsToRemove": [],
    "preferencesToAdd": [],
    "preferencesToRemove": [],
    "miscToAdd": [],
    "miscToRemove": [],
    "fieldsToSet": {},
    "fieldsToDelete": []
  }
}