{
  "frontend/src/App.tsx": "Main application component managing routing between lobby and room views with header, theme toggle, and footer that is conditionally hidden when inside a chat room.",
  "frontend/src/components/ThemeToggle.tsx": "Theme toggle dropdown component that allows users to switch between light, dark, and system themes using next-themes.",
  "frontend/src/hooks/useLocalProfile.ts": "Custom hook that manages anonymous user profile (userId and nickname) persisted in localStorage for authentication-free chat.",
  "frontend/src/hooks/useQueries.ts": "React Query hooks for backend operations with proper ExternalBlob type usage, null-handling for mutations, optimistic updates, and disabled automatic polling for room messages requiring manual reload.",
  "frontend/src/features/lobby/LobbyPage.tsx": "Lobby page with create/join room tabs that distinguishes between validation errors (with inline Alert and Retry button) and definitive \"Room not found\" responses, showing user-facing error messages without page refresh.",
  "frontend/src/features/chat/RoomPage.tsx": "Chat room page with enhanced error handling that displays specific user-friendly error messages using the error-to-text mapping utility, provides a retry button with loading state, and offers navigation back to lobby when room doesn't exist.",
  "frontend/src/features/chat/components/MessageComposer.tsx": "Message input component with file upload support, optimistic sends with proper ExternalBlob conversion using fromBytes(), activity callbacks, upload progress tracking, and a reload button near the typing controls that manually refetches room messages with loading indicator.",
  "frontend/src/features/chat/components/MessageItem.tsx": "Memoized message component with normalized media handling supporting both Uint8Array and ExternalBlob types, lightweight MIME detection with fingerprint-based caching, inline previews for images/videos with download buttons, and explicit fallback UI for failed attachments.",
  "frontend/src/features/chat/reactions/ReactionBar.tsx": "Reaction picker and display component showing emoji reactions with counts and popover interface for adding new reactions, now correctly using PublicMessage type from backend interface.",
  "frontend/src/index.css": "Global styles with OKLCH color system defining light/dark themes and custom chat bubble colors for sent vs received messages.",
  "frontend/src/hooks/useActor.ts": "Custom hook managing backend actor initialization with isInitializing flag (true only when actor is null and loading), error state, and retry function to distinguish connecting from background refetching.",
  "frontend/src/features/lobby/EditNicknameInline.tsx": "Inline nickname editor component with Save/Cancel/Clear actions, validation for empty nicknames, and keyboard shortcuts (Enter to save, Escape to cancel).",
  "frontend/tailwind.config.js": "Tailwind configuration with OKLCH color tokens, custom border radius, shadows, and animations for the chat application.",
  "frontend/src/features/chat/utils/displayName.ts": "Helper utility that extracts a safe display name from a PublicMessage, returning the nickname when present and non-empty (excluding userId), otherwise returning \"Anonymous\" placeholder without ever exposing the userId.",
  "frontend/src/features/chat/utils/download.ts": "Utility functions for triggering file downloads from object URLs or directly from bytes with automatic blob URL creation and cleanup (normalizing bytes to ensure TypeScript compatibility), plus deriving file extensions from MIME types with a stable 'bin' default for unknown types.",
  "frontend/src/features/chat/types/chatMessage.ts": "Defines ChatMessage type extending PublicMessage with optimistic update fields (clientId, clientStatus, clientErrorText, clientSendPayload) using ExternalBlob type from backend interface.",
  "frontend/src/features/chat/utils/messageErrors.ts": "Extracts user-friendly English error messages from backend/network errors with comprehensive handling for room errors, permissions, network issues, timeouts, and canister errors.",
  "frontend/src/features/chat/utils/messageOrdering.ts": "Provides stable message sorting by timestamp and ID with utilities to merge optimistic and backend messages, preventing duplicates and maintaining consistent ordering across refreshes.",
  "frontend/src/features/chat/utils/mediaFingerprint.ts": "Generates lightweight fingerprints for media bytes using length and edge bytes without creating intermediate arrays.",
  "frontend/src/features/chat/hooks/useAttachmentObjectUrl.ts": "React hook managing object URLs for message attachments with global caching, reference counting, automatic cleanup, and error handling for invalid media that returns null when Blob creation fails.",
  "frontend/src/features/chat/utils/messageEquality.ts": "Compares two ChatMessage objects for equality using stable fields and media fingerprints, with proper handling of both Uint8Array and ExternalBlob media types to enable structural sharing.",
  "frontend/src/features/chat/utils/structuralShareMessages.ts": "Implements structural sharing for message arrays by reusing unchanged message object references to minimize React re-renders.",
  "frontend/src/features/chat/utils/scrollViewport.ts": "Helper utilities for accessing and manipulating ScrollArea viewport with support for cached viewport elements to avoid repeated DOM queries.",
  "frontend/src/hooks/usePageVisibility.ts": "Hook to track document visibility state, returning true when page is visible and false when hidden.",
  "frontend/src/hooks/useRafThrottledCallback.ts": "Hook that throttles callbacks to run at most once per animation frame, useful for high-frequency events like scroll handlers.",
  "frontend/src/features/chat/hooks/useIdleActivity.ts": "Hook to track user activity and determine idle state based on a configurable threshold, with a function to record activity events.",
  "frontend/src/features/chat/utils/pollingStrategy.ts": "Determines appropriate polling intervals based on page visibility, user activity, scroll position, and idle state to optimize CPU usage.",
  "frontend/src/features/chat/utils/detectMimeType.ts": "Lightweight MIME type detection using magic numbers from first few bytes without building full header strings.",
  "frontend/src/features/chat/utils/attachmentMemo.ts": "Simple memoization cache for attachment metadata keyed by fingerprint to avoid repeated MIME detection computations.",
  "frontend/REDEPLOY.md": "Comprehensive redeploy runbook documenting the migration that fixes backend message storage errors, including what the fix does, why it was necessary, complete manual and automated procedures, verification checklist, troubleshooting guide, and rollback procedures.",
  "frontend/scripts/redeploy.sh": "Hardened redeploy automation script with strict bash flags, color-coded logging, explicit error handling, and clear messaging about the migration that fixes message storage and resets existing messages.",
  "frontend/scripts/redeploy-verify.sh": "Robust post-deployment verification script with comprehensive checks for both canisters, backend query testing, and detailed manual verification checklist emphasizing the critical message reload flow test.",
  "frontend/src/features/chat/utils/messageVisibility.ts": "Utility to determine if a message timestamp (backend Time bigint in nanoseconds) is within the last hour, with a constant for the 1-hour window and helper function to filter message arrays."
}